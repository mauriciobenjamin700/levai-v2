{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Converter V√≠deo para MP4</title>
    <link rel="stylesheet" href="{% static 'css/global.css' %}">
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
    <link rel="stylesheet" href="{% static 'css/video.css' %}">
</head>
<body>
    <div id="container" class="container">
        {% include "partials/header.html" %}
        {% include "partials/sidebar.html" %}
        
        <div id="content" class="content">
            <h2>üé¨ Converter V√≠deo para MP4</h2>
            
            <!-- Mensagens de feedback -->
            {% if messages %}
                <div class="messages">
                    {% for message in messages %}
                        <div class="alert alert-{{ message.tags }}">
                            {{ message }}
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
            
            <div class="formContainer">
                <form method="post" enctype="multipart/form-data" id="convertForm">
                    {% csrf_token %}
                    
                    <div class="form-group">
                        <label for="video">üìπ Selecione o v√≠deo:</label>
                        <input type="file" 
                               id="video" 
                               name="video" 
                               accept=".mov,.avi,.mkv,.wmv,.flv,.webm,.m4v" 
                               required>
                        <small class="help-text">
                            Formatos aceitos: MOV, AVI, MKV, WMV, FLV, WEBM, M4V
                        </small>
                    </div>
                    
                    <!-- Preview do v√≠deo -->
                    <div id="videoPreview" style="display: none; margin: 20px 0;">
                        <h4>üìΩÔ∏è Preview do V√≠deo:</h4>
                        <video id="previewVideo" 
                               controls 
                               style="max-width: 100%; max-height: 300px; border-radius: 8px;">
                        </video>
                        <div id="videoInfo" style="margin-top: 10px; color: #666;"></div>
                    </div>
                    
                    <div class="button-group">
                        <button type="submit" 
                                id="convertBtn" 
                                class="btn btn-primary">
                            üé¨ Converter para MP4
                        </button>
                        
                        <button type="button" 
                                id="clearBtn" 
                                class="btn btn-secondary">
                            üóëÔ∏è Limpar
                        </button>
                    </div>
                    
                    <!-- Indicador de progresso -->
                    <div id="loadingIndicator" style="display: none; margin-top: 20px;">
                        <div class="loading-spinner"></div>
                        <p>Convertendo v√≠deo para MP4... Por favor, aguarde.</p>
                        <small>‚ö†Ô∏è N√£o feche esta p√°gina durante a convers√£o</small>
                    </div>
                </form>
                
                <!-- Informa√ß√µes -->
                <div class="info-section">
                    <h3>üìã Como funciona:</h3>
                    <ol>
                        <li>Selecione um v√≠deo nos formatos suportados</li>
                        <li>Visualize o preview (opcional)</li>
                        <li>Clique em "Converter para MP4"</li>
                        <li>Aguarde a convers√£o</li>
                        <li>O download iniciar√° automaticamente</li>
                    </ol>
                    
                    <div class="features">
                        <h4>‚ú® Recursos:</h4>
                        <ul>
                            <li>üîÑ Convers√£o de alta qualidade</li>
                            <li>üì± Suporte a m√∫ltiplos formatos</li>
                            <li>üéØ Codec H.264 otimizado</li>
                            <li>üì• Download direto</li>
                            <li>üîä √Åudio AAC preservado</li>
                        </ul>
                    </div>
                    
                    <div class="supported-formats">
                        <h4>üìÅ Formatos Suportados:</h4>
                        <div class="format-grid">
                            <span class="format-badge">MOV</span>
                            <span class="format-badge">AVI</span>
                            <span class="format-badge">MKV</span>
                            <span class="format-badge">WMV</span>
                            <span class="format-badge">FLV</span>
                            <span class="format-badge">WEBM</span>
                            <span class="format-badge">M4V</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="{% static 'js/convert_to_mp4.js' %}"></script>
</body>
</html>